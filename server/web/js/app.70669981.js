(function(t){function e(e){for(var r,i,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),s=a.n(r);s.a},"1db9":function(t,e,a){},"21bb":function(t,e,a){"use strict";var r=a("2dad"),s=a.n(r);s.a},"2cfd":function(t,e,a){"use strict";var r=a("e314"),s=a.n(r);s.a},"2d23":function(t,e,a){},"2dad":function(t,e,a){},3205:function(t,e,a){t.exports=a.p+"img/swiper (2).02637ec8.jpg"},"36c1":function(t,e,a){},3975:function(t,e,a){t.exports=a.p+"img/logo_mini.ec6340af.jpg"},"447c":function(t,e,a){"use strict";var r=a("2d23"),s=a.n(r);s.a},5533:function(t,e,a){t.exports=a.p+"img/swiper (5).bfec4585.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view"),a("tab-bar")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabbar d-flex jc-around fs-xl border-top"},t._l(t.tabItem,(function(e,r){return a("div",{staticClass:"tab-item",class:{active:r===t.currentIndex},on:{click:function(e){return t.addClass(r)}}},[a("router-link",{attrs:{tag:"div",to:e.path}},[a("i",{staticClass:"pr-1",class:e.icon}),t._v(t._s(e.name)+" ")])],1)})),0)},o=[],l={data:function(){return{tabItem:[{icon:"el-icon-house",name:"首页",path:"/"},{icon:"el-icon-circle-plus-outline",name:"发布",path:"/release"},{icon:"el-icon-position",name:"广场",path:"/square"},{icon:"el-icon-help",name:"求购",path:"/demand"},{icon:"el-icon-user",name:"我的",path:"/me"}],currentIndex:0}},methods:{addClass:function(t){this.currentIndex=t}}},c=l,u=(a("ae1f"),a("2877")),d=Object(u["a"])(c,i,o,!1,null,null,null),m=d.exports,p={name:"app",components:{TabBar:m}},f=p,v=(a("034f"),Object(u["a"])(f,s,n,!1,null,null,null)),h=v.exports,g=a("8c4f"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("swiper",{attrs:{swiperImg:t.swiperImg,height:"11.5385rem"}}),r("div",{staticClass:"serach pl-2 pr-2 d-flex"},[r("el-input",{attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),r("el-button",{staticClass:"ml-2",attrs:{type:"primary",size:"mini"}},[t._v("搜索")])],1),r("div",{staticClass:"bg-white d-flex jc-around mt-2 ml-2 mr-2 mb-1 border-radius"},t._l(t.navData,(function(e){return r("div",{staticClass:"nav-item mt-1"},[r("router-link",{staticClass:"p-2 text-center",attrs:{tag:"div",to:e.path}},[r("div",[r("i",{staticClass:"p-1 iconfont",class:e.icon}),r("div",{staticClass:"pt-1"},[t._v(t._s(e.name))])])])],1)})),0),r("el-tabs",{staticClass:"bg-white m-2 pl-2",staticStyle:{height:"auto"},attrs:{stretch:""},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"宋跳校区",name:"first"}},[r("goods-item")],1),r("el-tab-pane",{attrs:{label:"苍梧校区",name:"second"}},[r("goods-item",{attrs:{campus:t.campus1}})],1),r("el-tab-pane",{attrs:{label:"通灌校区",name:"third"}},[r("goods-item",{attrs:{campus:t.campus2}})],1)],1),r("div",{staticClass:"height"})],1)},_=[],x=(a("96cf"),a("1da1")),C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("el-carousel",{attrs:{trigger:"click",height:t.height,autoplay:t.autoplay}},t._l(t.swiperImg,(function(t,e){return a("el-carousel-item",{key:e},[a("img",{attrs:{src:t,alt:""}})])})),1)],1)},w=[],y={props:{swiperImg:{type:Array,required:!0},height:{type:String},autoplay:{type:Boolean,default:!0}},data:function(){return{}}},k=y,$=(a("447c"),Object(u["a"])(k,C,w,!1,null,null,null)),R=$.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods-item"},[t.model?a("div",{staticClass:"d-flex js-around flex-wrap pl-1"},t._l(t.model,(function(e){return e.campus===t.campus?a("router-link",{key:e._id,staticClass:"mb-3",staticStyle:{width:"13.5rem"},attrs:{tag:"div",to:"/goods/"+e._id}},[a("img",{staticClass:"border-radius box-shadow",staticStyle:{height:"12.5rem"},attrs:{src:e.photo[0]}}),a("h4",{staticClass:"text-ellipsis mt-3 mb-3"},[t._v(t._s(e.name))]),a("div",{staticClass:"d-flex"},[a("span",{staticClass:"flex-1 fs-sm ml-1 price"},[t._v("￥"+t._s(e.price))]),0===t.campus?a("span",{staticClass:"text-grey-1 fs-sm mr-3"},[a("i",{staticClass:"el-icon-location-outline"}),t._v("宋跳 ")]):t._e(),1===t.campus?a("span",{staticClass:"text-grey-1 fs-sm mr-3"},[a("i",{staticClass:"el-icon-location-outline"}),t._v("苍梧 ")]):t._e(),2===t.campus?a("span",{staticClass:"text-grey-1 fs-sm mr-3"},[a("i",{staticClass:"el-icon-location-outline"}),t._v("通灌 ")]):t._e(),a("span",{staticClass:"text-grey-1 fs-sm mr-3"},[t._v(t._s(t._f("date")(e.createdAt)))])])]):t._e()})),1):t._e()])},O=[],I=(a("a9e3"),{props:{campus:{type:Number,default:0}},data:function(){return{model:null}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/goods");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}}),S=I,q=Object(u["a"])(S,j,O,!1,null,null,null),P=q.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar border-bottom"},[a("div",{staticClass:"fs-xl d-flex jc-around text-center"},[a("div",{staticClass:"left",staticStyle:{width:"20%"}},[t._t("left")],2),a("div",{staticClass:"center flex-1"},[t._t("center")],2),a("div",{staticClass:"right",staticStyle:{width:"20%"}},[t._t("right")],2)])])},D=[],U={},N=U,A=(a("ed6b"),Object(u["a"])(N,E,D,!1,null,null,null)),B=A.exports,L={name:"Home",components:{Swiper:R,GoodsItem:P,NavBar:B},data:function(){return{campus1:1,campus2:2,model:null,input:"",currentIndex:0,activeName:"first",navData:[{icon:"icon-kaoyan",name:"考研",path:"/postgraduate"},{icon:"icon-kaogong",name:"考公",path:"/official"},{icon:"icon-kemu-jiaozimianshi",name:"教资",path:"/teacher"},{icon:"icon-kebenguanli",name:"课本",path:"/book"},{icon:"icon-dianzichanpin1-copy",name:"电子",path:"/electronics"},{icon:"icon-shenghuoyongpin",name:"生活",path:"/life"},{icon:"icon-tiyuyongpin",name:"体育",path:"/sport"},{icon:"icon-qita",name:"其他",path:"/other"}],swiperImg:[a("65a0"),a("3205"),a("905b"),a("7a31"),a("5533")]}},methods:{addClass:function(t){this.currentIndex=t},handleClick:function(t,e){},fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/goods");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},z=L,F=(a("21bb"),Object(u["a"])(z,b,_,!1,null,null,null)),M=F.exports,V=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"release"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("el-form",{ref:"formRef",staticClass:"bg-white m-2 p-2",attrs:{model:t.model,"label-width":"80px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[r("h2",{staticClass:"text-center text-primary p-3"},[t._v(t._s(t.id?"编 辑":"发 布")+" 二 手 物 品")]),r("el-form-item",{attrs:{prop:"name",label:"物品名称"}},[r("el-input",{attrs:{placeholder:"很重要，让别人一眼就能找到"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),r("el-form-item",{attrs:{prop:"type",label:"物品类型"}},[r("el-select",{attrs:{multiple:"",filterable:"",placeholder:"请选择物品类型"},model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}},t._l(t.types,(function(t){return r("el-option",{key:t._id,attrs:{label:t.name,value:t._id}})})),1)],1),r("el-form-item",{attrs:{prop:"campus",label:"所在校区"}},[r("el-select",{attrs:{placeholder:"请选择您所在的校区"},model:{value:t.model.campus,callback:function(e){t.$set(t.model,"campus",e)},expression:"model.campus"}},[r("el-option",{attrs:{label:"宋跳校区",value:"0"}}),r("el-option",{attrs:{label:"苍梧校区",value:"1"}}),r("el-option",{attrs:{label:"通灌校区",value:"2"}})],1)],1),r("el-form-item",{attrs:{prop:"date",label:"购入时间"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:t.model.date,callback:function(e){t.$set(t.model,"date",e)},expression:"model.date"}})],1),r("el-form-item",{attrs:{prop:"originalPrice",label:"购入价格"}},[r("el-input",{attrs:{placeholder:"如忘记，可填一下大概价格"},model:{value:t.model.originalPrice,callback:function(e){t.$set(t.model,"originalPrice",e)},expression:"model.originalPrice"}})],1),r("el-form-item",{attrs:{label:"物品图片"}},[r("el-upload",{attrs:{multiple:"",action:t.uploadUrl,headers:t.getAuthHeaders(),"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"on-success":t.afterUpload},model:{value:t.model.photo,callback:function(e){t.$set(t.model,"photo",e)},expression:"model.photo"}},[r("i",{staticClass:"el-icon-plus"})]),r("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),r("el-form-item",{attrs:{prop:"description",label:"物品描述"}},[r("el-input",{attrs:{placeholder:"很重要，别人决定买不买，就看这里写得详细与否",type:"textarea",rows:5},model:{value:t.model.description,callback:function(e){t.$set(t.model,"description",e)},expression:"model.description"}})],1),r("el-form-item",{attrs:{prop:"price",label:"卖出价格"}},[r("el-input",{attrs:{placeholder:"说吧，想卖多少钱"},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",e)},expression:"model.price"}})],1),r("el-form-item",{attrs:{prop:"tel",label:"联系方式"}},[r("el-input",{attrs:{placeholder:"留下联系方式，坐等收钱"},model:{value:t.model.tel,callback:function(e){t.$set(t.model,"tel",e)},expression:"model.tel"}})],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary","native-type":"submit"}},[t._v(t._s(t.id?"保存":"发布"))]),r("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){return t.resetForm("formRef")}}},[t._v("重置")]),t.id?r("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.deleteReleaseInfo}},[t._v("删除")]):t._e(),t.id?r("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){return t.$router.back(-1)}}},[t._v("取消")]):t._e()],1)],1),r("div",{staticClass:"height"})],1)},H=[],T=(a("a434"),{name:"Release",props:{id:{type:String}},components:{NavBar:B},data:function(){return{model:{name:"",type:[],campus:"",date:"",originalPrice:"",description:"",price:"",tel:"",photo:[]},dialogImageUrl:"",dialogVisible:!1,types:null}},computed:{},methods:{afterUpload:function(t){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.model.photo.push(t.url);case 1:case"end":return a.stop()}}),a)})))()},handleRemove:function(t,e){for(var a=t.response.url,r=this.model.photo,s=0;s<r.length;s++)a==r[s]&&r.splice(s,1)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},fetchCategories:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/rest/categories");case 2:a=e.sent,t.types=a.data;case 4:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,t.$http.put("rest/goods/".concat(t.id),t.model);case 3:e.sent,e.next=9;break;case 6:return e.next=8,t.$http.post("/rest/goods",t.model);case 8:e.sent;case 9:t.$router.push("/"),t.$message({type:"success",message:"发布成功"});case 11:case"end":return e.stop()}}),e)})))()},resetForm:function(t){this.$refs[t].resetFields()},fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("rest/goods/".concat(t.id));case 2:a=e.sent,t.model=Object.assign({},t.model,a.data);case 4:case"end":return e.stop()}}),e)})))()},deleteReleaseInfo:function(t){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.delete("rest/goods/".concat(e.id));case 2:t.sent,e.$router.push("/me");case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.fetchCategories(),this.id&&this.fetch()}}),Y=T,G=Object(u["a"])(Y,V,H,!1,null,null,null),J=G.exports,Q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"demand"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("el-form",{ref:"formRef",staticClass:"bg-white auto-hight m-2 p-2",staticStyle:{height:"90vh"},attrs:{model:t.model,"label-width":"80px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[r("h2",{staticClass:"text-center text-primary p-3"},[t._v(t._s(t.id?"编 辑":"发 布")+" 求 购 信 息")]),r("el-form-item",{attrs:{prop:"name",label:"物品名称"}},[r("el-input",{attrs:{placeholder:"很重要，让别人对您的需求一目了然"},model:{value:t.model.name,callback:function(e){t.$set(t.model,"name",e)},expression:"model.name"}})],1),r("el-form-item",{attrs:{prop:"description",label:"物品描述"}},[r("el-input",{attrs:{type:"textarea",rows:8,placeholder:"让别人更清晰了解您的需求"},model:{value:t.model.description,callback:function(e){t.$set(t.model,"description",e)},expression:"model.description"}})],1),r("el-form-item",{attrs:{prop:"tel",label:"联系方式"}},[r("el-input",{attrs:{placeholder:"让别人更加方便地联系您"},model:{value:t.model.tel,callback:function(e){t.$set(t.model,"tel",e)},expression:"model.tel"}})],1),r("el-form-item",{attrs:{prop:"price",label:"预期价格"}},[r("el-input",{attrs:{placeholder:"数字或文字，如'100-500之间'"},model:{value:t.model.price,callback:function(e){t.$set(t.model,"price",e)},expression:"model.price"}})],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary","native-type":"submit"}},[t._v(t._s(t.id?"保存":"发布"))]),r("el-button",{attrs:{size:"small",type:"warning"},on:{click:function(e){return t.resetForm("formRef")}}},[t._v("重置")]),t.id?r("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.deleteDemandInfo}},[t._v("删除")]):t._e(),t.id?r("el-button",{attrs:{size:"small",type:"info"},on:{click:function(e){return t.$router.back(-1)}}},[t._v("取消")]):t._e()],1)],1)],1)},K=[],W={name:"Demanfd",components:{NavBar:B},props:{id:{type:String}},data:function(){return{model:{name:"",campus:"",description:"",price:"",tel:""},dialogImageUrl:"",dialogVisible:!1,types:null}},methods:{resetForm:function(t){this.$refs[t].resetFields()},save:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,t.$http.put("rest/demands/".concat(t.id),t.model);case 3:e.sent,e.next=9;break;case 6:return e.next=8,t.$http.post("/rest/demands",t.model);case 8:e.sent;case 9:t.$router.push("/square"),t.$message({type:"success",message:"发布成功"});case 11:case"end":return e.stop()}}),e)})))()},fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("rest/demands/".concat(t.id));case 2:a=e.sent,t.model=Object.assign({},t.model,a.data);case 4:case"end":return e.stop()}}),e)})))()},deleteDemandInfo:function(t){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.delete("rest/demands/".concat(e.id));case 2:t.sent,e.$router.push("/me");case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},X=W,Z=Object(u["a"])(X,Q,K,!1,null,null,null),tt=Z.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"me"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("el-card",{staticClass:"box-card m-1"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("div",{staticClass:"d-flex"},[r("img",{staticStyle:{height:"3rem","border-radius":"50%"},attrs:{src:t.model.avatar}}),r("strong",{staticClass:"ml-3 mt-3 text-space fs-xl flex-1"},[t._v(t._s(t.model.username))]),r("el-button",{attrs:{icon:"el-icon-setting",circle:""},on:{click:t.setting}})],1)]),r("div",[r("el-tabs",{staticStyle:{width:"100%"},attrs:{stretch:""}},[r("el-tab-pane",{attrs:{label:"我的发布"}},[r("my-release",{attrs:{id:t.model._id,username:t.model.username}})],1),r("el-tab-pane",{attrs:{label:"我的求购"}},[r("my-demand",{attrs:{id:t.model._id}})],1)],1)],1)])],1)},at=[],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"myrelease"},[t.isData?a("div",t._l(t.data,(function(e){return a("router-link",{staticClass:"d-flex mb-2 p-2",attrs:{tag:"div",to:"/release/edit/"+e._id}},[a("img",{staticClass:"border-radius box-shadow mr-3",staticStyle:{height:"8rem"},attrs:{src:e.photo[0]}}),a("div",{staticClass:"pl-2 d-flex flex-column jc-between",staticStyle:{width:"18rem"}},[a("div",{staticClass:"fs-xl pr-3 text-ellipsis goodsName mt-1"},[t._v(t._s(e.name))]),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"fs-lg price"},[t._v("￥"+t._s(e.price))]),a("div",{staticClass:"mt-3"},[0===e.campus?a("div",{staticClass:"text-grey-1 fs-sm"},[a("i",{staticClass:"el-icon-location-outline"}),t._v("宋跳校区 ")]):t._e(),1===e.campus?a("div",{staticClass:"text-grey-1 fs-sm"},[a("i",{staticClass:"el-icon-location-outline"}),t._v("苍梧校区 ")]):t._e(),2===e.campus?a("div",{staticClass:"text-grey-1 fs-sm"},[a("i",{staticClass:"el-icon-location-outline"}),t._v("通灌校区 ")]):t._e()]),a("div",{staticClass:"text-grey-1 fs-sm mt-1 ml-1"},[t._v(t._s(t._f("date")(e.createdAt)))])])])])})),1):a("div",[a("div",{staticClass:"fs-lg p-2"},[t._v("暂时没有发布二手物品，立即去 "),a("router-link",{attrs:{to:"/release",tag:"span"}},[a("el-link",{attrs:{type:"primary"}},[t._v("发布")])],1)],1)]),a("div",{staticClass:"height"})])},st=[],nt=(a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),{props:{id:{type:String,required:!0},username:{type:String,required:!0}},computed:{isData:function(){return 0!=this.data.length}},data:function(){return{model:[],data:[]}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n,i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/goods");case 2:for(a=e.sent,t.model=a.data,r=!0,s=!1,n=void 0,e.prev=7,i=t.model[Symbol.iterator]();!(r=(o=i.next()).done);r=!0)l=o.value,l.userId.username===t.username&&t.data.push(l);e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](7),s=!0,n=e.t0;case 15:e.prev=15,e.prev=16,r||null==i.return||i.return();case 18:if(e.prev=18,!s){e.next=21;break}throw n;case 21:return e.finish(18);case 22:return e.finish(15);case 23:case"end":return e.stop()}}),e,null,[[7,11,15,23],[16,,18,22]])})))()}},created:function(){this.fetch()}}),it=nt,ot=Object(u["a"])(it,rt,st,!1,null,null,null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-demand"},[t._l(t.model,(function(e){return a("router-link",{staticClass:"mb-2",attrs:{tag:"div",to:"/demand/edit/"+e._id}},[a("el-card",{staticClass:"p-2"},[a("h3",[t._v(t._s(e.name))]),a("div",[t._v(t._s(e.description))]),a("div",{staticClass:"price mt-3"},[t._v("￥"+t._s(e.price))])])],1)})),a("div",{staticClass:"height"})],2)},ut=[],dt={props:{id:{type:String,required:!0}},data:function(){return{model:[]}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/demands/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},mt=dt,pt=Object(u["a"])(mt,ct,ut,!1,null,null,null),ft=pt.exports,vt={name:"Me",components:{NavBar:B,MyRelease:lt,MyDemand:ft},data:function(){return{model:{avatar:"",_id:"",username:""}}},computed:{isLogin:function(){return!!localStorage.token}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()},setting:function(){this.$router.push("/setting")}},created:function(){this.fetch()}},ht=vt,gt=(a("a459"),Object(u["a"])(ht,et,at,!1,null,null,null)),bt=gt.exports,_t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"square auto-hight"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("el-tabs",{staticClass:"m-1",attrs:{type:"border-card",stretch:""}},[r("el-tab-pane",{attrs:{label:"求购信息"}},[r("demand-info")],1),r("el-tab-pane",{attrs:{label:"举报信息"}},[r("report-info")],1)],1)],1)},xt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demand-info"},[t._l(t.model,(function(e){return a("div",{staticClass:"mb-2"},[a("el-card",[a("strong",{staticClass:"fs-xl"},[t._v(t._s(e.name))]),a("div",{staticClass:"mt-3 mb-3"},[t._v(t._s(e.description))]),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"text-grey-1 flex-1"},[t._v("预期价格："),a("span",{staticClass:"price"},[t._v("￥"+t._s(e.price))])]),a("div",{staticClass:"text-grey-1 fs-sm"},[t._v("更新时间："+t._s(t._f("date")(e.createdAt)))])]),a("el-divider",{staticClass:"mt-3 mb-3"}),a("div",{staticClass:"d-flex"},[a("img",{staticClass:"border-radius",staticStyle:{height:"3rem"},attrs:{src:e.userId.avatar}}),a("div",{staticClass:"d-flex flex-column ml-2 mt-1 flex-1"},[a("strong",{staticClass:"mb-2"},[t._v(t._s(e.userId.username))]),t.isLogin?a("div",{staticClass:"text-grey-1"},[a("i",{staticClass:"el-icon-mobile-phone"}),t._v(t._s(e.userId.tel))]):t.isLogin?t._e():a("router-link",{staticClass:"text-primary",attrs:{tag:"span",to:"/login"}},[t._v("登陆后查看联系方式 ")])],1),a("div",{staticClass:"mt-3"},["0"===e.userId.campus?a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("宋跳校区")]):t._e(),"1"===e.userId.campus?a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("苍梧校区")]):t._e(),"2"===e.userId.campus?a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("通灌校区")]):t._e()])])],1)],1)})),a("div",{staticClass:"height"})],2)},wt=[],yt={data:function(){return{model:null}},computed:{isLogin:function(){return!!localStorage.token}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/demands");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},kt=yt,$t=Object(u["a"])(kt,Ct,wt,!1,null,null,null),Rt=$t.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"report-info"},[t._l(t.model,(function(e){return a("div",{staticClass:"mb-2"},[a("el-card",[a("h2",[t._v(t._s(e.reportContent))]),a("el-divider",{staticClass:"mt-3 mb-3"}),a("div",{staticClass:"d-flex"},[a("img",{staticClass:"border-radius",staticStyle:{height:"3rem"},attrs:{src:e.reportID.avatar}}),a("div",{staticClass:"d-flex flex-column ml-2 mt-1 flex-1"},[a("strong",{staticClass:"mb-2"},[t._v(t._s(e.reportID.username))]),t.isLogin?a("div",{staticClass:"text-grey-1"},[a("i",{staticClass:"el-icon-mobile-phone"}),t._v(t._s(e.reportID.tel))]):t.isLogin?t._e():a("router-link",{staticClass:"text-primary",attrs:{tag:"span",to:"/login"}},[t._v("登陆后查看联系方式 ")])],1),a("div",{staticClass:"mt-3"},["0"===e.reportID.campus?a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("宋跳校区")]):t._e(),"1"===e.reportID.campus?a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("苍梧校区")]):t._e(),"2"===e.reportID.campus?a("span",[a("i",{staticClass:"el-icon-location-outline"}),t._v("通灌校区")]):t._e()])])],1)],1)})),a("div",{staticClass:"height"})],2)},Ot=[],It={data:function(){return{model:null}},computed:{isLogin:function(){return!!localStorage.token}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/reports");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},St=It,qt=Object(u["a"])(St,jt,Ot,!1,null,null,null),Pt=qt.exports,Et={name:"Square",components:{NavBar:B,DemandInfo:Rt,ReportInfo:Pt},data:function(){return{}},methods:{},created:function(){}},Dt=Et,Ut=Object(u["a"])(Dt,_t,xt,!1,null,null,null),Nt=Ut.exports,At=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login-container"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("el-card",{staticClass:"m-2 login-card text-center fs-xl"},[r("el-form",{ref:"formRef",attrs:{rules:t.rules,model:t.model},nativeOn:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("h2",{staticClass:"text-center text-primary pb-2"},[t._v("用 户 登 录")]),r("el-form-item",{attrs:{prop:"username",label:"用户名"}},[r("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),r("el-form-item",{attrs:{prop:"password",label:"密码"}},[r("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),r("el-form-item",{staticClass:"pt-3"},[r("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("登录")]),r("el-button",{on:{click:function(e){return t.resetForm("formRef")}}},[t._v("重置")])],1),r("el-form-item",[r("span",[t._v("没有账号？ "),r("router-link",{staticClass:"text-primary",attrs:{tag:"span",to:"/register"}},[t._v(" 立即注册")])],1)])],1)],1)],1)},Bt=[],Lt={components:{NavBar:B},data:function(){return{model:{},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("login",t.model);case 2:a=e.sent,localStorage.token=a.data.token,t.$router.push("/"),t.$message({type:"success",message:"登录成功"});case 6:case"end":return e.stop()}}),e)})))()},resetForm:function(t){this.$refs[t].resetFields()}}},zt=Lt,Ft=(a("d6db"),Object(u["a"])(zt,At,Bt,!1,null,null,null)),Mt=Ft.exports,Vt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login-container"},[r("nav-bar",[r("div",{attrs:{slot:"left"},slot:"left"},[r("img",{attrs:{src:a("3975")}})]),r("div",{attrs:{slot:"center"},slot:"center"},[t._v("江海大二手交易平台")]),r("div",{attrs:{slot:"right"},slot:"right"})]),r("el-card",{staticClass:"m-2 login-card text-center fs-xl",attrs:{header:""}},[r("el-form",{ref:"formRef",attrs:{rules:t.rules,model:t.model,"label-position":t.labelPosition},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[r("h2",{staticClass:"text-center text-primary pb-2"},[t._v("用 户 注 册")]),r("el-form-item",{attrs:{prop:"username",label:"用户名"}},[r("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),r("el-form-item",{attrs:{prop:"tel",label:"手机号码"}},[r("el-input",{model:{value:t.model.tel,callback:function(e){t.$set(t.model,"tel",e)},expression:"model.tel"}})],1),r("el-form-item",{attrs:{prop:"password",label:"密码"}},[r("el-input",{attrs:{type:"password"},model:{value:t.model.password,callback:function(e){t.$set(t.model,"password",e)},expression:"model.password"}})],1),r("el-form-item",{attrs:{prop:"password2",label:"确认密码"}},[r("el-input",{attrs:{type:"password"},model:{value:t.model.password2,callback:function(e){t.$set(t.model,"password2",e)},expression:"model.password2"}})],1),r("el-form-item",{staticClass:"pt-3"},[r("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("注册")]),r("el-button",{on:{click:function(e){return t.resetForm("formRef")}}},[t._v("重置")])],1),r("el-form-item",[r("span",[t._v("已有账号？ "),r("router-link",{staticClass:"text-primary",attrs:{tag:"span",to:"/login"}},[t._v(" 立即登录")])],1)])],1)],1)],1)},Ht=[],Tt={components:{NavBar:B},data:function(){var t=this,e=function(e,a,r){return""===a?r(new Error("密码是必须的")):a!==t.model.password?r(new Error("两次输入的密码不一致")):r()},a=function(t,e,a){var r=/^1(3[0-9]|4[5,7]|5[0,1,2,3,5,6,7,8,9]|6[2,5,6,7]|7[0,1,7,8]|8[0-9]|9[1,8,9])\d{8}$/;if(r.test(e))return a();a(new Error("请输入合法的手机号"))};return{model:{},labelPosition:"right",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],tel:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:a,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],password2:[{required:!0,validator:e,trigger:"blur"}]}}},methods:{save:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/register",t.model);case 2:e.sent,t.$router.push("/login"),t.$message({type:"success",message:"注册成功"});case 5:case"end":return e.stop()}}),e)})))()},resetForm:function(t){this.$refs[t].resetFields()}}},Yt=Tt,Gt=(a("2cfd"),Object(u["a"])(Yt,Vt,Ht,!1,null,null,null)),Jt=Gt.exports,Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goods auto-hight",model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[a("nav-bar",[a("router-link",{attrs:{slot:"left",tag:"div",to:""},slot:"left"},[a("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.$router.back(-1)}}})]),a("div",{attrs:{slot:"center"},slot:"center"},[t._v("物品详情")]),a("div",{attrs:{slot:"right"},slot:"right"})],1),a("div",{staticClass:"bg-white auto-hight"},[a("swiper",{attrs:{swiperImg:t.model.photo,autoplay:t.autoplay}}),a("div",{staticClass:"ml-3 mr-3 mb-3"},[a("h3",{staticClass:"text-space"},[t._v(t._s(t.model.name))]),a("div",{staticClass:"text-space text-grey-1 mb-2"},[t._v(t._s(t.model.description))]),a("div",{staticClass:"mt-3 d-flex pt-3 pb-3"},[a("span",{staticClass:"price fs-xl mr-2"},[t._v("￥"+t._s(t.model.price))]),a("del",{staticClass:"text-grey-1 flex-1"},[t._v("￥"+t._s(t.model.originalPrice))]),t._l(t.model.type,(function(e){return a("span",{staticClass:"text-grey-1 mr-3 pr-3"},[a("i",{staticClass:"el-icon-collection-tag"}),t._v(" "+t._s(e.name)+" ")])})),a("span",{staticClass:"text-grey-1 fs-md mr-1 pr-1 ml-2"},[t._v("更新于 "+t._s(t._f("date")(t.model.updatedAt)))])],2)]),a("div",{staticClass:"border-bottom"}),a("div",{staticClass:"ml-3 mr-3"},[a("div",{staticClass:"info d-flex mt-3 pb-3"},[a("img",{attrs:{src:t.model.userId.avatar}}),a("div",{staticClass:"d-flex flex-column"},[a("strong",{staticClass:"ml-2 mt-3 flex-1 fs-lg"},[t._v(t._s(t.model.userId.username))])]),a("el-dropdown",{staticClass:"mt-3 ml-3 pl-3 fs-sm",on:{command:t.handleCommand}},[a("span",{staticClass:"el-dropdown-link fs-lg"},[t._v(" 举报"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"商品信息违规"}},[t._v("商品信息违规")]),a("el-dropdown-item",{attrs:{command:"联系方式有误"}},[t._v("联系方式有误")]),a("el-dropdown-item",{attrs:{command:"商品已售出"}},[t._v("商品已售出")]),a("el-dropdown-item",{attrs:{command:"其他"}},[t._v("其他")])],1)],1)],1),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"text-dark-1 fs-md mr-3 pr-3"},[t.isLogin?a("div",[a("i",{staticClass:"el-icon-mobile-phone"}),t._v(" "+t._s(t.model.tel))]):t.isLogin?t._e():a("router-link",{staticClass:"text-primary",attrs:{tag:"span",to:"/login"}},[t._v("登陆后查看联系方式")])],1),a("div",{staticClass:" mr-1 pr-1 ml-3"},[0===t.model.campus?a("span",{staticClass:"text-dark-1 fs-md"},[a("i",{staticClass:"el-icon-location-outline"}),t._v(" 宋跳校区 ")]):t._e(),1===t.model.campus?a("span",{staticClass:"text-dark-1 fs-md"},[a("i",{staticClass:"el-icon-location-outline"}),t._v(" 苍梧校区 ")]):t._e(),2===t.model.campus?a("span",{staticClass:"text-dark-1 fs-md"},[a("i",{staticClass:"el-icon-location-outline"}),t._v(" 通灌校区 ")]):t._e()])])]),a("div",{staticClass:"pb-3"})],1),a("div",{staticClass:"height"})],1)},Kt=[],Wt={name:"Good",components:{Swiper:R,NavBar:B},props:{id:{required:!0}},data:function(){return{model:{photo:[],price:0,originalPrice:0,description:"",userId:{avatar:""}},autoplay:!1,report:{reportID:"",reportContent:""}}},computed:{isLogin:function(){return!!localStorage.token}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/goods/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()},handleCommand:function(t){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.report.reportID=e.model.userId,e.report.reportContent=t,a.next=4,e.$http.post("/rest/reports",e.report);case 4:a.sent,e.$message({message:"举报成功，我们会及时处理",type:"success"});case 6:case"end":return a.stop()}}),a)})))()}},created:function(){this.fetch()}},Xt=Wt,Zt=(a("9d68"),Object(u["a"])(Xt,Qt,Kt,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav-bar",[a("router-link",{attrs:{slot:"left",tag:"div",to:""},slot:"left"},[a("span",{on:{click:function(e){return t.$router.back(-1)}}},[t._v("取消")])]),a("div",{attrs:{slot:"center"},slot:"center"},[t._v("编辑资料")]),a("div",{attrs:{slot:"right"},slot:"right"})],1),a("el-form",{ref:"formRef",staticClass:"bg-white auto-hight p-2",staticStyle:{height:"90vh"},attrs:{model:t.model,"label-width":"80px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("h2",{staticClass:"text-center text-primary pb-3"},[t._v("个人信息")]),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{model:{value:t.model.username,callback:function(e){t.$set(t.model,"username",e)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{model:{value:t.model.tel,callback:function(e){t.$set(t.model,"tel",e)},expression:"model.tel"}})],1),a("el-form-item",{attrs:{label:"微信"}},[a("el-input",{model:{value:t.model.wechat,callback:function(e){t.$set(t.model,"wechat",e)},expression:"model.wechat"}})],1),a("el-form-item",{attrs:{label:"QQ"}},[a("el-input",{model:{value:t.model.qq,callback:function(e){t.$set(t.model,"qq",e)},expression:"model.qq"}})],1),a("el-form-item",{attrs:{prop:"campus",label:"所在校区"}},[a("el-select",{attrs:{placeholder:"请选择您所在的校区"},model:{value:t.model.campus,callback:function(e){t.$set(t.model,"campus",e)},expression:"model.campus"}},[a("el-option",{attrs:{label:"宋跳校区",value:"0"}}),a("el-option",{attrs:{label:"苍梧校区",value:"1"}}),a("el-option",{attrs:{label:"通灌校区",value:"2"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("确认修改")])],1)],1)],1)},ae=[],re={components:{NavBar:B},props:{id:{required:!0}},data:function(){return{model:{username:""}}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/rest/users/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()},save:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.put("/rest/users/".concat(t.id),t.model);case 2:e.sent,t.$router.go(-1),t.$message({type:"success",message:"修改成功"});case 5:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},se=re,ne=Object(u["a"])(se,ee,ae,!1,null,null,null),ie=ne.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting"},[a("nav-bar",[a("router-link",{attrs:{slot:"left",tag:"div",to:""},slot:"left"},[a("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.$router.back(-1)}}})]),a("div",{attrs:{slot:"center"},slot:"center"},[t._v("设置")]),a("div",{attrs:{slot:"right"},slot:"right"})],1),a("div",{staticClass:"d-flex p-3 bg-white"},[a("router-link",{attrs:{to:"/avatar/"+t.model._id}},[a("img",{staticStyle:{height:"5rem","border-radius":"50%"},attrs:{src:t.model.avatar}})]),a("div",{staticClass:"d-flex flex-column flex-1 mt-3 pt-1 ml-3"},[a("strong",{staticClass:"text-space fs-xl pb-2"},[t._v(t._s(t.model.username))]),a("div",{staticClass:"text-grey-1"},[a("i",{staticClass:"el-icon-mobile-phone"}),t._v(" "+t._s(t.model.tel))])]),a("el-button",{attrs:{type:"text",plain:""},on:{click:t.editInfo}},[t._v("编辑")])],1),t.model.qq||t.model.wechat||t.model.campus?a("div",{staticClass:"qq bg-white height-1 pt-3 mt-3 d-flex jc-around"},[t.model.qq?a("div",[a("i",{staticClass:"iconfont icon-qq"}),t._v(" "+t._s(t.model.qq))]):t._e(),t.model.wechat?a("div",[a("i",{staticClass:"iconfont icon-weixin"}),t._v(" "+t._s(t.model.wechat))]):t._e(),t.model.campus?a("div",["0"===t.model.campus?a("div",[a("i",{staticClass:"el-icon-location-outline"}),t._v(" 宋跳校区")]):t._e(),"1"===t.model.campus?a("div",[a("i",{staticClass:"el-icon-location-outline"}),t._v(" 苍梧校区")]):t._e(),"2"===t.model.campus?a("div",[a("i",{staticClass:"el-icon-location-outline"}),t._v(" 通灌校区")]):t._e()]):t._e()]):t._e(),a("div",{staticClass:"logout mt-3 pt-2 bg-white height text-center"},[a("el-button",{staticClass:"price",attrs:{type:"text"},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登录")])],1)],1)},le=[],ce={components:{NavBar:B},data:function(){return{model:{avatar:"",_id:""}}},methods:{fetch:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/user");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()},editInfo:function(){this.$router.push("/userinfo/".concat(this.model._id))},logout:function(){localStorage.clear(),this.$router.go(0)}},created:function(){this.fetch()}},ue=ce,de=Object(u["a"])(ue,oe,le,!1,null,null,null),me=de.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"avatar"},[a("nav-bar",[a("router-link",{attrs:{slot:"left",tag:"div",to:""},slot:"left"},[a("span",{on:{click:function(e){return t.$router.back(-1)}}},[t._v("取消")])]),a("div",{attrs:{slot:"center"},slot:"center"},[t._v("修改头像")]),a("div",{attrs:{slot:"right"},slot:"right"})],1),a("div",{staticStyle:{height:"6rem"}}),a("div",{staticClass:"d-flex flex-column text-center"},[a("el-upload",{staticClass:"mb-3",attrs:{multiple:"",action:t.uploadUrl,headers:t.getAuthHeaders(),"list-type":"picture-card","show-file-list":!1,"on-preview":t.handlePictureCardPreview,"on-success":t.afterUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),a("div",{staticClass:"m-2 text-grey-1"},[t._v("建议上传头像图片尺寸为 1:1")]),a("div",[a("el-button",{staticClass:"m-3",attrs:{type:"primary"},on:{click:t.updateAvatar}},[t._v("确定修改")])],1)],1)],1)},fe=[],ve={props:{id:{required:!0}},data:function(){return{imgUrl:"",model:{avatar:""}}},components:{NavBar:B},methods:{afterUpload:function(t){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.url;case 2:e.imgUrl=a.sent,e.model.avatar=e.imgUrl;case 4:case"end":return a.stop()}}),a)})))()},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},updateAvatar:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.model),e.next=3,t.$http.put("/rest/users/".concat(t.id),t.model);case 3:e.sent,t.$router.go(-1),t.$message({type:"success",message:"修改成功"});case 6:case"end":return e.stop()}}),e)})))()},fetchUser:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("/rest/users/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetchUser()}},he=ve,ge=Object(u["a"])(he,pe,fe,!1,null,null,null),be=ge.exports;r["default"].use(g["a"]);var _e=[{path:"/",name:"Home",component:M,meta:{isPublic:!0}},{path:"/release",name:"Release",component:J},{path:"/release/edit/:id",name:"Release1",component:J,props:!0},{path:"/square",name:"Square",component:Nt,meta:{isPublic:!0}},{path:"/demand",name:"Demand",component:tt},{path:"/demand/edit/:id",name:"Demand1",component:tt,props:!0},{path:"/me",name:"Me",component:bt,meta:{isPublic:!0}},{path:"/setting",name:"Setting",component:me},{path:"/avatar/:id",name:"Avatar",component:be,props:!0},{path:"/userinfo/:id",name:"UserInfo",component:ie,props:!0},{path:"/login",name:"Login",component:Mt,meta:{isPublic:!0}},{path:"/register",name:"Register",component:Jt,meta:{isPublic:!0}},{path:"/goods/:id",name:"Good",component:te,props:!0,meta:{isPublic:!0}}],xe=new g["a"]({routes:_e});xe.beforeEach((function(t,e,a){if(!t.meta.isPublic&&!localStorage.token)return r["default"].prototype.$message({type:"error",message:"请先登录！"}),a("/login");a()}));var Ce=xe,we=a("5c96"),ye=a.n(we);a("0fae");r["default"].use(ye.a);var ke=a("5a0c"),$e=a.n(ke),Re=(a("78a7"),a("ed2c"),a("bc3a")),je=a.n(Re),Oe=je.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API_URL||"/web/api"});Oe.interceptors.request.use((function(t){return localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t}),(function(t){return Promise.reject(t)})),Oe.interceptors.response.use((function(t){return t}),(function(t){return t.response.data.message&&r["default"].prototype.$message({type:"error",message:t.response.data.message}),401===t.response.status&&Ce.push("/login"),Promise.reject(t)}));var Ie=Oe;r["default"].config.productionTip=!1,r["default"].prototype.$http=Ie,r["default"].mixin({computed:{uploadUrl:function(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthHeaders:function(){return{Authorization:"Bearer ".concat(localStorage.token||"")}}},filters:{date:function(t){return $e()(t).format("YYYY-MM-DD")}}}),new r["default"]({router:Ce,render:function(t){return t(h)}}).$mount("#app")},"65a0":function(t,e,a){t.exports=a.p+"img/swiper (1).c58c3403.jpg"},"78a7":function(t,e,a){},"7a31":function(t,e,a){t.exports=a.p+"img/swiper (4).ed9a253b.jpg"},"85ec":function(t,e,a){},"905b":function(t,e,a){t.exports=a.p+"img/swiper (3).4bc5da09.jpg"},"9d68":function(t,e,a){"use strict";var r=a("1db9"),s=a.n(r);s.a},a459:function(t,e,a){"use strict";var r=a("36c1"),s=a.n(r);s.a},ae1f:function(t,e,a){"use strict";var r=a("e155"),s=a.n(r);s.a},d5a8:function(t,e,a){},d6db:function(t,e,a){"use strict";var r=a("e67a"),s=a.n(r);s.a},e155:function(t,e,a){},e314:function(t,e,a){},e67a:function(t,e,a){},ed2c:function(t,e,a){},ed6b:function(t,e,a){"use strict";var r=a("d5a8"),s=a.n(r);s.a}});
//# sourceMappingURL=app.70669981.js.map